---
title: 4.基础语法
date: 2022-10-04 00:00:00
category: Python语言
tags:
  - 注释
  - 标识符
  - 变量
  - 关键字
  - 代码块
---

# 注释

作用：对所写的代码进行标注说明（解释代码），提高代码的可读性。

* 编码及解释器

```python
# -*- coding: cp-1252 -*-
#!/usr/bin/python3
```

* 单行注释

```python
# 注释内容
```

* 多行注释

```python
"""
多行注释第一种写法
第二行注释
"""

'''
多行注释第二种写法
第二行注释
'''
```

# 标识符

标识符是编程中用于标识变量、函数、类、模块或其他实体的名称。
Python中自定义的名字都需要满足标识符命名规则。

标识符命名规则：

* 由数字、字母、下划线组成。
* 不能由数字开头。
* 不能使用内置关键字。
* 区分大小写。

命名习惯：

* 见名知义。
* 大驼峰：每个单词首字母都大写。
* 小驼峰：除第一个单词，后面的单词首字母都大写。
* 下划线：使用下划线连接单词。

# 关键字

Python中已经使用的单词，具备自己的作用。

```python
import keyword

print(keyword.kwlist)

['False', 'None', 'True', '__peg_parser__', 'and', 'as', 'assert', 'async', 'await', 'break', 'class', 'continue', 'def', 'del', 'elif', 'else', 'except', 'finally', 'for', 'from', 'global', 'if', 'import', 'in', 'is', 'lambda', 'nonlocal', 'not', 'or', 'pass', 'raise', 'return', 'try', 'while', 'with', 'yield']
```

# 进制

* 二进制：由0和1组成，代码中以`0b`开头。
* 十进制：由0-9组成，代码默认进制。
* 八进制：由0-7组成，代码中以`0o`开头。
* 十六进制：由0-9和a-f组成，代码中以`0x`开头。

# 代码块

Python最具特色的就是使用==缩进==来表示代码块，不需要使用大括号 `{}` 。
同一个代码块的代码，应有相同的缩进单位。
缩进混乱会导致程序出错，这是小白最容易出现问题的地方。

# 多行语句

通常情况下一行就包含一条语句，但有的时候语句会很长，需要使用`\`来换行。

```python
result = number1 + \
         number2 + \
         number3 + \
         number4 + \
         number5
```

# 命名空间

Python中，变量、函数、类等实体，都存储在命名空间中。

一般有三种命名空间：

* 内置名称（built-in names），Python语言内置的名称，比如函数名abs、char和异常名称 BaseException、Exception 等等。
* 全局名称（global names），模块中定义的名称，记录了模块的变量，包括函数、类、其它导入的模块、模块级的变量和常量。
* 局部名称（local names），函数中定义的名称，记录了函数的变量，包括函数的参数和局部定义的变量。（类中定义的也是）

命名空间搜索规则：

* 局部名称 -> 全局名称 -> 内置名称

命名空间的生命周期：

* 创建：模块第一次导入时，创建全局名称；调用函数时，创建局部名称。
* 销毁：模块卸载时，销毁全局名称；函数调用结束，销毁局部名称。

# 作用域

作用域指的是变量生效的范围。

四种作用域：

* L（Local）：最内层，包含局部变量，比如一个函数/方法内部。
* E（Enclosing）：包含了非局部(non-local)也非全局(non-global)的变量。比如两个嵌套函数，一个函数（或类） A 里面又包含了一个函数 B ，那么对于 B 中的名称来说 A 中的作用域就为 nonlocal。
* G（Global）：当前脚本的最外层，比如当前模块的全局变量。
* B（Built-in）： 包含了内建的变量/关键字等，最后被搜索。

## 全局变量和局部变量

定义在函数内部的变量拥有一个局部作用域，定义在函数外的拥有全局作用域。

局部变量只能在其被声明的函数内部访问，而全局变量可以在整个程序范围内访问。调用函数时，所有在函数内声明的变量名称都将被加入到作用域中。

## global 和 nonlocal关键字

global关键字：

* 声明全局变量，让变量变成全局变量。
* 局部变量可以覆盖全局变量。

nonlocal关键字：

* 声明嵌套作用域的变量，让变量变成嵌套作用域的变量。
* 局部变量可以覆盖嵌套作用域的变量。

## 作用域链

嵌套作用域中，内部作用域可以访问外部作用域，反之则不行。
