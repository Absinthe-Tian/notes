---
title: 3.Git基本操作
date: 2023-12-16 14:44:03
categories: Git
tags: 
  - 初始化
  - 状态管理
  - 文件
  - log
  - diff
---

# 初始化

一般的文件夹是不会直接被Git托管的，而需要我们进行初始化后才能进行后续的操作。

```bash
git init [PATH]
```

> 不提供PATH会初始化当前文件夹。
>
> 初始化后的文件夹会创建一个`.git`隐藏文件夹，包含了当前项目的所有相关信息。

# 状态

**untracked**

未跟踪状态，说明该文件位于此文件夹中，但并没有加入Git的监听。可通过`git add`添加为Staged状态。

**tracked**

已跟踪状态，又分为三个状态。

* Staged：暂存状态，执行`git commit`则将修改同步到版本库中，这时库中的文件和本地文件又变为一致，文件为Unmodify状态，执行`git reset HEAD FileName`取消暂存，文件状态为Modified。
* Unmodified：文件已经添加，但未修改，即版本库中的文件快照内容与文件夹中完全一致，这种类型的文件有两种去处，如果它被修改，而变为 Modified，如果使用`git rm`移出版本库，则成为Untracked文件。
* Modified：文件已修改，仅仅是修改，并没有进行其他的操作，这个文件也有两个去处，通过`git add`可进入暂存staged状态，使用`git checkout`则丢弃修改过，返回unmodify状态，即从库中取出文件，覆盖当前修改。

```bash
git status [-s]
```

> -s：简洁输出，仅展示文件的状态的单词首字母。

# 文件

## 删除

```bash
git rm FileName
```

> 只是删除了工作区和暂存区的文件，版本库中可仍然存在。
>
> 手动删除的文件，只是删除了工作区的文件，暂存区和版本库可仍然存在。

## 移动/重命名

```bash
git mv OldFile NewFile
```

> 移动或重命名工作区的文件，并记录到暂存区。

# 日志

## 查看提交日志

```bash
git log
```

> --graph：查看分支合并图。
>
> --oneline：将记录压缩为一行展示。

## 查看引用日志

```bash
git reflog
```

> 通常用于恢复丢失的提交或分支。

# 比较

```bash
git diff [--cached]
```

> --cached：比较暂存区和版本库的差异。
>
> 比较工作区和暂存区的文件差异。

# 忽略

在项目目录下`.gitignore`文件。

忽略规则（同Linux文件匹配）：

* 以`/`开头表示命令。
* 以`*`通配多个字符。
* 以`?`通配单个字符。
* 以`[]`包含单个字符的匹配列表。
* 以`!`表示不忽略匹配到的文件或目录。
