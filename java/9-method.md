---
title: 9.Java方法
date: 2024-03-25 16:22:58
categories: Java语言
tags:
  - method
  - 内存分配
---

方法（Method）是一组执行特定任务的代码块，它可以被重复调用，并且可以接受参数并返回一个值。方法是面向对象编程的基本组成部分，用于封装和组织代码，提高代码的可读性、可维护性和复用性。方法是程序中最小的执行单元。

# 定义

```java
修饰符 返回类型 方法名(形参列表) {
  方法体
}
```

修饰符：

* **public**：公共方法，可以被任何其他类访问。
* **protected**：受保护方法，可以被同一包内的类以及该类的子类访问。
* **default（没有修饰符）**：默认访问修饰符，只能被同一包内的类访问。
* **private**：私有方法，只能被定义该方法的类内部访问，其他任何地方都无法访问。
* **static**：静态方法，属于类而不是实例，可以直接通过类名调用。
* **final**：不可重写方法，子类无法重写该方法。
* **abstract**：抽象方法，只有声明而没有实现，必须在抽象类中定义，子类必须实现该方法。
* **synchronized**：同步方法，用于多线程环境中控制方法的访问。
* **native**：本地方法，声明方法的实现是由本地代码（如C或C++）实现的。
* **strictfp**：严格浮点数方法，确保在不同平台上浮点数运算结果相同。

# 调用

```java
方法名(实参列表);
```

注意：方法存在返回值时，可以使用变量或对象赋值进行接收。

# 参数传递

Java方法中参数的传递有两种，分别是值传递和引用传递。

值传递：基本数据类型（传递的是实际值，无法直接修改实参）。

引用传递：引用数据类型（传递的是地址值，可以直接修改实参）。

# 重载

在同一个类中，可以定义多个同名但参数列表不同的方法，称为方法重载。与返回值无关。

参数不同：个数、类型、顺序其一不同即可。

# 内存分配

1. **堆内存（Heap Memory）**：
   - Java 程序中的大部分对象都存储在堆内存中。
   - 堆内存是 Java 虚拟机（JVM）运行时数据区域之一，用于存放对象实例及数组对象。
   - 堆内存的大小可以通过 JVM 启动参数 `-Xms` 和 `-Xmx` 来指定初始大小和最大大小。
2. **栈内存（Stack Memory）**：
   - 栈内存用于存储方法调用的局部变量、方法参数、返回值和方法调用栈信息。
   - 每个线程都有自己的栈内存，栈内存的大小是固定的。
   - 栈内存中的数据随着方法的入栈和出栈而动态变化。
3. **方法区（Method Area）**：
   - 方法区用于存储类的信息、静态变量、常量池等数据。
   - 方法区在 Java 8 及之前的版本中是堆内存的一部分，Java 8 后被移出作为一个独立的区域。
   - 在 Java 8 及之前的版本中，方法区的大小可以通过 JVM 启动参数 `-XX:MaxPermSize` 来指定。
4. 堆外内存（Off-Heap Memory）：
   - 堆外内存是指直接由操作系统分配的内存，而不受 Java 堆内存的限制。
   - 堆外内存通常用于存储大量数据或者需要更高性能的情况，如 NIO（New I/O）等。
5. 垃圾回收（Garbage Collection）：
   - 垃圾回收是 Java 自动内存管理的核心机制，用于释放不再使用的对象以及回收内存空间。
   - Java 的垃圾回收器会定期检查堆内存中的对象，标记出可以被回收的对象，并进行垃圾回收。
